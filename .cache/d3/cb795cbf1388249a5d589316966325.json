{"id":"node_modules/ajv/dist/jtd.js","dependencies":[{"name":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/lib/jtd.ts","includedInParent":true,"mtime":499162500000},{"name":"/Users/lucyknight/odi-grader-sales/package.json","includedInParent":true,"mtime":1649847102319},{"name":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/package.json","includedInParent":true,"mtime":1648635397345},{"name":"./core","loc":{"line":4,"column":23,"index":222},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/core.js"},{"name":"./vocabularies/jtd","loc":{"line":5,"column":22,"index":255},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/vocabularies/jtd/index.js"},{"name":"./refs/jtd-schema","loc":{"line":6,"column":29,"index":307},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/refs/jtd-schema.js"},{"name":"./compile/jtd/serialize","loc":{"line":7,"column":28,"index":357},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/compile/jtd/serialize.js"},{"name":"./compile/jtd/parse","loc":{"line":8,"column":24,"index":409},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/compile/jtd/parse.js"},{"name":"./compile/validate","loc":{"line":57,"column":25,"index":2014},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/compile/validate/index.js"},{"name":"./compile/codegen","loc":{"line":59,"column":24,"index":2181},"parent":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/jtd.js","resolved":"/Users/lucyknight/odi-grader-sales/node_modules/ajv/dist/compile/codegen/index.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst jtd_1 = require(\"./vocabularies/jtd\");\nconst jtd_schema_1 = require(\"./refs/jtd-schema\");\nconst serialize_1 = require(\"./compile/jtd/serialize\");\nconst parse_1 = require(\"./compile/jtd/parse\");\nconst META_SCHEMA_ID = \"JTD-meta-schema\";\nclass Ajv extends core_1.default {\n    constructor(opts = {}) {\n        super({\n            ...opts,\n            jtd: true,\n        });\n    }\n    _addVocabularies() {\n        super._addVocabularies();\n        this.addVocabulary(jtd_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        this.addMetaSchema(jtd_schema_1.default, META_SCHEMA_ID, false);\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n    compileSerializer(schema) {\n        const sch = this._addSchema(schema);\n        return sch.serialize || this._compileSerializer(sch);\n    }\n    compileParser(schema) {\n        const sch = this._addSchema(schema);\n        return (sch.parse || this._compileParser(sch));\n    }\n    _compileSerializer(sch) {\n        serialize_1.default.call(this, sch, sch.schema.definitions || {});\n        /* istanbul ignore if */\n        if (!sch.serialize)\n            throw new Error(\"ajv implementation error\");\n        return sch.serialize;\n    }\n    _compileParser(sch) {\n        parse_1.default.call(this, sch, sch.schema.definitions || {});\n        /* istanbul ignore if */\n        if (!sch.parse)\n            throw new Error(\"ajv implementation error\");\n        return sch.parse;\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\n"},"sourceMaps":{"js":{"version":3,"file":"jtd.js","sourceRoot":"","sources":["../lib/jtd.ts"],"names":[],"mappings":";;;AAEA,iCAA8C;AAC9C,4CAA8C;AAC9C,kDAA6C;AAC7C,uDAAuD;AACvD,+CAA+C;AAG/C,MAAM,cAAc,GAAG,iBAAiB,CAAA;AA4BxC,MAAM,GAAI,SAAQ,cAAO;IACvB,YAAY,OAAmB,EAAE;QAC/B,KAAK,CAAC;YACJ,GAAG,IAAI;YACP,GAAG,EAAE,IAAI;SACV,CAAC,CAAA;IACJ,CAAC;IAED,gBAAgB;QACd,KAAK,CAAC,gBAAgB,EAAE,CAAA;QACxB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAA;IACnC,CAAC;IAED,qBAAqB;QACnB,KAAK,CAAC,qBAAqB,EAAE,CAAA;QAC7B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAM;QAC3B,IAAI,CAAC,aAAa,CAAC,oBAAa,EAAE,cAAc,EAAE,KAAK,CAAC,CAAA;IAC1D,CAAC;IAED,WAAW;QACT,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW;YAC3B,KAAK,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAA;IACzF,CAAC;IAMD,iBAAiB,CAAc,MAAoB;QACjD,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;QACnC,OAAO,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAA;IACtD,CAAC;IAMD,aAAa,CAAc,MAAoB;QAC7C,MAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAA;QACnC,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAiB,CAAA;IAChE,CAAC;IAEO,kBAAkB,CAAI,GAAc;QAC1C,mBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAG,GAAG,CAAC,MAA0B,CAAC,WAAW,IAAI,EAAE,CAAC,CAAA;QACpF,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,SAAS;YAAE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;QAC/D,OAAO,GAAG,CAAC,SAAS,CAAA;IACtB,CAAC;IAEO,cAAc,CAAC,GAAc;QACnC,eAAa,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAG,GAAG,CAAC,MAA0B,CAAC,WAAW,IAAI,EAAE,CAAC,CAAA;QAChF,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,KAAK;YAAE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;QAC3D,OAAO,GAAG,CAAC,KAAK,CAAA;IAClB,CAAC;CACF;AAED,MAAM,CAAC,OAAO,GAAG,OAAO,GAAG,GAAG,CAAA;AAC9B,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAC,KAAK,EAAE,IAAI,EAAC,CAAC,CAAA;AAE3D,kBAAe,GAAG,CAAA;AA0BlB,+CAA6C;AAArC,sGAAA,UAAU,OAAA;AAElB,6CAA6F;AAArF,4FAAA,CAAC,OAAA;AAAE,8FAAA,GAAG,OAAA;AAAE,oGAAA,SAAS,OAAA;AAAE,8FAAA,GAAG,OAAA;AAAE,+FAAA,IAAI,OAAA;AAAQ,kGAAA,OAAO,OAAA","sourcesContent":["import type {AnySchemaObject, SchemaObject, JTDParser} from \"./types\"\nimport type {JTDSchemaType, SomeJTDSchemaType, JTDDataType} from \"./types/jtd-schema\"\nimport AjvCore, {CurrentOptions} from \"./core\"\nimport jtdVocabulary from \"./vocabularies/jtd\"\nimport jtdMetaSchema from \"./refs/jtd-schema\"\nimport compileSerializer from \"./compile/jtd/serialize\"\nimport compileParser from \"./compile/jtd/parse\"\nimport {SchemaEnv} from \"./compile\"\n\nconst META_SCHEMA_ID = \"JTD-meta-schema\"\n\ntype JTDOptions = CurrentOptions & {\n  // strict mode options not supported with JTD:\n  strict?: never\n  allowMatchingProperties?: never\n  allowUnionTypes?: never\n  validateFormats?: never\n  // validation and reporting options not supported with JTD:\n  $data?: never\n  verbose?: boolean\n  $comment?: never\n  formats?: never\n  loadSchema?: never\n  // options to modify validated data:\n  useDefaults?: never\n  coerceTypes?: never\n  // advanced options:\n  next?: never\n  unevaluated?: never\n  dynamicRef?: never\n  meta?: boolean\n  defaultMeta?: never\n  inlineRefs?: boolean\n  loopRequired?: never\n  multipleOfPrecision?: never\n}\n\nclass Ajv extends AjvCore {\n  constructor(opts: JTDOptions = {}) {\n    super({\n      ...opts,\n      jtd: true,\n    })\n  }\n\n  _addVocabularies(): void {\n    super._addVocabularies()\n    this.addVocabulary(jtdVocabulary)\n  }\n\n  _addDefaultMetaSchema(): void {\n    super._addDefaultMetaSchema()\n    if (!this.opts.meta) return\n    this.addMetaSchema(jtdMetaSchema, META_SCHEMA_ID, false)\n  }\n\n  defaultMeta(): string | AnySchemaObject | undefined {\n    return (this.opts.defaultMeta =\n      super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined))\n  }\n\n  compileSerializer<T = unknown>(schema: SchemaObject): (data: T) => string\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileSerializer<T = unknown>(schema: JTDSchemaType<T>): (data: T) => string\n  compileSerializer<T = unknown>(schema: SchemaObject): (data: T) => string {\n    const sch = this._addSchema(schema)\n    return sch.serialize || this._compileSerializer(sch)\n  }\n\n  compileParser<T = unknown>(schema: SchemaObject): JTDParser<T>\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileParser<T = unknown>(schema: JTDSchemaType<T>): JTDParser<T>\n  compileParser<T = unknown>(schema: SchemaObject): JTDParser<T> {\n    const sch = this._addSchema(schema)\n    return (sch.parse || this._compileParser(sch)) as JTDParser<T>\n  }\n\n  private _compileSerializer<T>(sch: SchemaEnv): (data: T) => string {\n    compileSerializer.call(this, sch, (sch.schema as AnySchemaObject).definitions || {})\n    /* istanbul ignore if */\n    if (!sch.serialize) throw new Error(\"ajv implementation error\")\n    return sch.serialize\n  }\n\n  private _compileParser(sch: SchemaEnv): JTDParser {\n    compileParser.call(this, sch, (sch.schema as AnySchemaObject).definitions || {})\n    /* istanbul ignore if */\n    if (!sch.parse) throw new Error(\"ajv implementation error\")\n    return sch.parse\n  }\n}\n\nmodule.exports = exports = Ajv\nObject.defineProperty(exports, \"__esModule\", {value: true})\n\nexport default Ajv\n\nexport {\n  Format,\n  FormatDefinition,\n  AsyncFormatDefinition,\n  KeywordDefinition,\n  KeywordErrorDefinition,\n  CodeKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n  Vocabulary,\n  Schema,\n  SchemaObject,\n  AnySchemaObject,\n  AsyncSchema,\n  AnySchema,\n  ValidateFunction,\n  AsyncValidateFunction,\n  ErrorObject,\n  ErrorNoParams,\n  JTDParser,\n} from \"./types\"\n\nexport {Plugin, Options, CodeOptions, InstanceOptions, Logger, ErrorsTextOptions} from \"./core\"\nexport {SchemaCxt, SchemaObjCxt} from \"./compile\"\nexport {KeywordCxt} from \"./compile/validate\"\nexport {JTDErrorObject} from \"./vocabularies/jtd\"\nexport {_, str, stringify, nil, Name, Code, CodeGen, CodeGenOptions} from \"./compile/codegen\"\n\nexport {JTDSchemaType, SomeJTDSchemaType, JTDDataType}\nexport {JTDOptions}\n"]}},"error":null,"hash":"d5f5d59b340301254d39264a25b336f2","cacheData":{"env":{}}}